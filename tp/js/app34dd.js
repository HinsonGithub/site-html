/*! For license information please see app.js.LICENSE.txt */
!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}({0:function(e,t,n){n("bUC5"),e.exports=n("pyCd")},X4Np:function(e,t,n){e.exports=function(){"use strict";var e="undefined"!=typeof document&&document.documentMode,t={rootMargin:"0px",threshold:0,load:function(t){if("picture"===t.nodeName.toLowerCase()){var n=t.querySelector("img"),o=!1;null===n&&(n=document.createElement("img"),o=!0),e&&t.getAttribute("data-iesrc")&&(n.src=t.getAttribute("data-iesrc")),t.getAttribute("data-alt")&&(n.alt=t.getAttribute("data-alt")),o&&t.append(n)}if("video"===t.nodeName.toLowerCase()&&!t.getAttribute("data-src")&&t.children){for(var r=t.children,a=void 0,i=0;i<=r.length-1;i++)(a=r[i].getAttribute("data-src"))&&(r[i].src=a);t.load()}t.getAttribute("data-poster")&&(t.poster=t.getAttribute("data-poster")),t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset"));var d=",";if(t.getAttribute("data-background-delimiter")&&(d=t.getAttribute("data-background-delimiter")),t.getAttribute("data-background-image"))t.style.backgroundImage="url('"+t.getAttribute("data-background-image").split(d).join("'),url('")+"')";else if(t.getAttribute("data-background-image-set")){var l=t.getAttribute("data-background-image-set").split(d),s=l[0].substr(0,l[0].indexOf(" "))||l[0];s=-1===s.indexOf("url(")?"url("+s+")":s,1===l.length?t.style.backgroundImage=s:t.setAttribute("style",(t.getAttribute("style")||"")+"background-image: "+s+"; background-image: -webkit-image-set("+l+"); background-image: image-set("+l+")")}t.getAttribute("data-toggle-class")&&t.classList.toggle(t.getAttribute("data-toggle-class"))},loaded:function(){}};function n(e){e.setAttribute("data-loaded",!0)}var o=function(e){return"true"===e.getAttribute("data-loaded")},r=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return e instanceof Element?[e]:e instanceof NodeList?e:t.querySelectorAll(e)};return function(){var e,a,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=Object.assign({},t,d),s=l.root,c=l.rootMargin,u=l.threshold,g=l.load,m=l.loaded,p=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(p=new IntersectionObserver((e=g,a=m,function(t,r){t.forEach((function(t){(0<t.intersectionRatio||t.isIntersecting)&&(r.unobserve(t.target),o(t.target)||(e(t.target),n(t.target),a(t.target)))}))}),{root:s,rootMargin:c,threshold:u}));for(var v,y=r(i,s),b=0;b<y.length;b++)(v=y[b]).getAttribute("data-placeholder-background")&&(v.style.background=v.getAttribute("data-placeholder-background"));return{observe:function(){for(var e=r(i,s),t=0;t<e.length;t++)o(e[t])||(p?p.observe(e[t]):(g(e[t]),n(e[t]),m(e[t])))},triggerLoad:function(e){o(e)||(g(e),n(e),m(e))},observer:p}}}()},bUC5:function(e,t,n){"use strict";n.r(t);var o=n("X4Np"),r=n.n(o);window.onload=function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js")},r()().observe();var a;a=function(){d(),S()},"loading"!=document.readyState?a():document.addEventListener("DOMContentLoaded",a);var i="";function d(){i=document.getElementById("contentInput").value,document.getElementById("prompterContent").innerHTML=i}var l=document.getElementById("contentInput"),s=document.getElementById("bmcContainer2");document.getElementById("callmevlad").addEventListener("click",(function(){s.classList.remove("showBmc")}));var c=function(e){l.style.height=l.scrollHeight,d(),document.querySelectorAll("[data-autoresize]").forEach((function(e){e.style.boxSizing="border-box",u=e.offsetHeight-e.clientHeight,e.addEventListener("input",(function(e){e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+u+"px"})),e.removeAttribute("data-autoresize")}))},u=0;l.addEventListener("change",c),l.addEventListener("keyup",c),l.addEventListener("keydown",c),l.addEventListener("paste",c),l.addEventListener("cut",c);var g=document.getElementById("promptBtn");g.addEventListener("click",(function(){document.getElementById("contentInput").value.length?(s.classList.remove("showBmc"),L.classList.add("showPrompter"),k.style.display="block",I.style.display="block",p=null,A.classList.add("unscrollable"),R(),"undefined"!=typeof gtag&&gtag("event","prompt",{event_category:"{{ strtoupper($sub) }}",event_label:"prompt from {{ $sub }}"})):alert("No text to prompt !")}));var m=!1,p=null,v=[],y="audio/webm",b=".webm",f=["audio/wav","audio/mpeg","audio/webm","audio/ogg"],h=document.getElementById("recordAudioCheckbox"),E=document.getElementById("recordingindicator");h.addEventListener("change",(function(){1==h.checked?navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({audio:!0})?m=!0:(m=!1,document.getElementById("recordAudioCheckbox").checked=!1,console.log("navigator.mediaDevices not supported")):(m=!1,navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({audio:!1,video:!1}),K())})),document.getElementById("hideBtn").addEventListener("click",(function(){!function(){s.classList.remove("showBmc"),L.classList.remove("showPrompter"),k.style.display="none",I.style.display="none",J(),document.fullscreenElement&&document.exitFullscreen();K(),A.classList.remove("unscrollable")}()}));var L=document.getElementById("prompterContainer"),k=document.getElementById("prompterControls"),I=document.getElementById("prompterZone"),A=document.body;var w=document.getElementById("size"),B=function(e){S(),R()};w.addEventListener("change",B),w.addEventListener("input",B),w.addEventListener("paste",B);var M=0;function S(){M=w.value,M*=8,document.getElementById("prompterContent").style.fontSize=M+"px"}var x=null,C=0,O=0,D=0,j=0,P=null,H="",T=document.getElementById("speed"),U=document.getElementById("prompterContent");function R(){return C=U.offsetHeight,O=T.value,D=Math.round(250/O),j=C/(1/D)/1e3,(P=new Date(null)).setSeconds(Math.round(j)),H=P.toISOString().substr(11,8),document.getElementById("durationContainer").innerHTML=H,j}var _=document.getElementById("playPrompt"),z=document.getElementById("fullscreenPrompt"),N=document.getElementById("pausePrompt"),q=document.getElementById("stopPrompt"),F=1,W=[],X=1,Y=0,$=0,G="";function Z(){s.classList.remove("showBmc"),1==m&&(console.log("Start recording"),navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({audio:!0})?navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){null==p?(y=f.filter(MediaRecorder.isTypeSupported)[0],b=y.replace("audio/","."),console.log("mime is "+y+" and extension is "+b),(p=new MediaRecorder(e,{mimeType:y})).start(),p.addEventListener("dataavailable",(function(e){e.data.size>0&&(console.log("New audio chunk"),v.push(e.data))})),p.addEventListener("stop",(function(){console.log("mediaRecorder event stop was detected"),function(e){var t=new Blob(e,{type:y}),n=URL.createObjectURL(t),o=document.createElement("a");document.body.appendChild(o),o.style="display: none",o.href=n,o.download="Teleprompt-"+Date.now()+b,o.click(),window.URL.revokeObjectURL(n)}(v),e.getTracks().forEach((function(e){return e.stop()}))}))):p.resume(),E.style.display="block",console.log("recording")})):(document.getElementById("recordAudioCheckbox").checked=!1,m=!1,p=null,console.log("navigator.mediaDevices not supported"),E.style.display="none")),clearInterval(x),x=null,O=T.value,D=Math.round(250/O),F=1;var e=getComputedStyle(U).transform;W=e.replace(/[^0-9\-.,]/g,"").split(","),X=W[13]||W[5],/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&(U.style.transitionDuration=10*D+"ms"),C=U.offsetHeight,j=R(),$=Math.abs(X)/C*j;var t=_.getAttribute("data-state");"playing"==t&&(x=setInterval((function(){G=X-1*F,U.style.transform="translateY("+Math.round(G)+"px)",Y=$+F*D/1e3;var e=new Date(null);e.setSeconds(Math.round(Y)),H=e.toISOString().substr(11,8),document.getElementById("elapsedContainer").innerHTML=H,G<-C&&(clearInterval(x),x=null,_.setAttribute("data-state","stopped"),_.style.display="block",N.style.display="none",s.classList.add("showBmc")),F+=1}),D)),"playing"!=t&&(clearInterval(x),x=null)}function J(){_.setAttribute("data-state","stopped"),_.style.display="block",N.style.display="none",clearInterval(x),x=null,U.style.transform="translateY(0px)";var e=new Date(null);e.setSeconds(Math.round(0)),H=e.toISOString().substr(11,8),document.getElementById("elapsedContainer").innerHTML=H,K()}function K(){console.log("Stop recording."),E.style.display="none",p&&(p.stop(),console.log("mediaRecorder stopped")),p=null,v=[]}_.addEventListener("click",(function(){null===x&&(_.setAttribute("data-state","playing"),_.style.display="none",N.style.display="block",Z())})),T.addEventListener("click",Z),T.addEventListener("input",Z),T.addEventListener("paste",Z),N.addEventListener("click",(function(){N.style.display="none",_.setAttribute("data-state","paused"),_.style.display="block",clearInterval(x),x=null,p&&(p.pause(),E.style.display="none")})),q.addEventListener("click",(function(){s.classList.remove("showBmc"),J()})),z.addEventListener("click",(function(){document.fullscreenElement?document.fullscreenElement&&document.exitFullscreen():document.documentElement.requestFullscreen()}))},pyCd:function(e,t){}});